# 3D Affine Transform Visualizer (WebGL2)

Live demo:
[https://stepanxxx.github.io/affine3d/](https://stepanxxx.github.io/affine3d/)

Односторінковий демо-проєкт для візуалізації **афінних перетворень у 3D** у браузері на **чистому JavaScript** (без бібліотек). Інструмент допомагає швидко “помацати” математику трансформацій та бачити результат у реальному часі: **Translate / Rotate / Scale / Shear**.

Рендеринг:

- **WebGL2**: shaded-меш (куб) з напрямленим світлом (ambient + diffuse + specular), щоб деформації читалися краще.
- **Fallback Canvas2D**: wireframe-відображення, якщо WebGL2 недоступний у середовищі (наприклад, sandbox/iframe).

---

## Features

- **UI-контроли** для:
  - Translate: `Tx, Ty, Tz`
  - Rotate (deg): `Rx, Ry, Rz`
  - Scale: `Sx, Sy, Sz`
  - Shear: `XY, XZ, YZ`
- **Осі координат** (X/Y/Z) для швидкої орієнтації в просторі.
- **Поточні матриці**:
  - `M` (Model): матриця перетворення об’єкта
  - `MVP` (Projection · View · Model): матриця, яка застосовується у вершинному шейдері
- **Copy buttons**:
  - `Copy M` та `Copy MVP` — копіюють матрицю в буфер як **CSV (row-major)** для подальшого аналізу/документації.

---

## Math pipeline

Матриця моделі формується так:

```math
M = T · Rz · Ry · Rx · Shear · S
```

Далі:

```math
MVP = P · V · M
```

> Внутрішнє представлення матриць у коді — **column-major**, як у WebGL/OpenGL.  
> В UI матриця виводиться у вигляді **4×4 рядками** для зручності читання.

---

## Quick start

### Варіант 1: просто відкрити файл
1. Збережи файл як `index.html`.
2. Відкрий у браузері подвійним кліком.

> Примітка: clipboard-копіювання може бути обмежене при відкритті через `file://` у деяких браузерах.

### Варіант 2: через локальний HTTP сервер (рекомендовано)
```bash
# Python
python -m http.server 8080
# потім відкрий http://localhost:8080
```

---

## Controls

* **Sliders** та **numeric inputs** синхронізовані.
* **Reset** — повертає дефолтні значення трансформацій.

Рекомендований сценарій для перевірки shear:

1. Постав `Sx/Sy/Sz = 1`
2. Змінюй `XY/XZ/YZ` невеликими кроками (0.05–0.15)
3. Дивись на shading — ребра/грані стають асиметричними й це добре показує деформацію.

---

## Rendering notes

* WebGL2 рендерить куб з простим Blinn-Phong освітленням.
* Нормалі перетворюються через **normal matrix** (inverse-transpose), що коректно працює для **non-uniform scale** та **shear**.
* Якщо WebGL2 недоступний, автоматично вмикається Canvas2D wireframe.

---

## Roadmap (опційно)

* Додати UI для керування світлом (напрямок/інтенсивності).
* Додати “wireframe overlay” поверх shaded-мешу.
* Додати вибір примітива (сфера/піраміда/паралелепіпед) та сітку (grid).
